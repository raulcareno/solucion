<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                template="/templates/mantenimiento.xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:a4j="http://richfaces.org/a4j"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://java.sun.com/jsf/core" >
    <ui:define name="title">

    </ui:define>    
    <ui:define name="datos">
        <h:panelGrid width="100%" id="busqueda" >
            <h:form prependId="false" id="form">
                <script src="locales.js" type="text/javascript"/>

                <h:panelGrid width="100%"  columns="1">
<p:dataTable    id="modalidad" var="obj" value="#{sistemaNotasBean.model}">  

                        <p:column headerText="NOTA" style="width:80%">  
                            <h:outputText value="#{obj.nombre}" />  
                        </p:column>  
                        <p:column headerText="Habil Desde-Hasta" style="width:80%">  
                            <h:outputText value="#{obj.fechai.toLocaleString().substring(0,11)} - #{obj.fechaf.toLocaleString().substring(0,11) }" />  
                             
                        </p:column>  
                        <p:column headerText="ES GPA">  
                            <h:outputText value="#{obj.esgpa?'SI':''}" />  
                        </p:column>  
                        <p:column headerText="ES NOTA">  
                            <h:outputText value="#{obj.esnota?'SI':''}" />  
                        </p:column> 
                        <p:column headerText="SE IMPRI.">  
                            <h:outputText value="#{obj.seimprime?'SI':''}" />  
                        </p:column> 
                        <p:column headerText="ES ASIST.">  
                            <h:outputText value="#{obj.esasistencia?'SI':''}" />  
                        </p:column> 
                        <p:column headerText="ES EQUIV.">  
                            <h:outputText value="#{obj.esexamen?'SI':''}" />  
                        </p:column> 
                        <p:column headerText="variable">  
                            <h:outputText value="#{obj.nota}" />  
                        </p:column>  
                        <p:column style="width:10%">  
                            <h:panelGrid style="border-color: transparent;" columns="2">
                                <p:commandButton  id="editarButton" update=":form:display"  actionListener="#{sistemaNotasBean.editarAction(obj)}" icon="editar" title="Editar">  
                                </p:commandButton>  
                                <p:commandButton id="eliminarButton" actionListener="#{sistemaNotasBean.eliminar(obj)}"  update=":form"   icon="eliminar"  onclick="if(!confirm('Seguro que desea eliminar el registro?')) { return false;}" title="Eliminar">  

                                </p:commandButton>  
                            </h:panelGrid>

                        </p:column>  

                    </p:dataTable>
                    <p:panel id="registro"  header="MODIFICAR/REGISTRO DE APORTES">
                        <p:growl id="growl" autoUpdate="true" showDetail="true" sticky="true"  /> 
                        <h:panelGrid id="display" columns="4" cellpadding="4" style="margin:0 auto;">  
                            <h:outputText value="NOMBRE" />  
                            <p:inputText value="#{sistemaNotasBean.object.nombre}" id="nombre"  maxlength="100" size="35"  style="font-weight:bold;"/>  
                            <h:outputText value="ABREVIATURA" />  
                            <p:inputText value="#{sistemaNotasBean.object.abreviatura}" id="abreviatura"  maxlength="10" size="35"  style="font-weight:bold;"/>  
                            <h:outputText value="FORMULA" />  
                            <p:inputText value="#{sistemaNotasBean.object.formula}" id="formula"  maxlength="100" size="35"  style="font-weight:bold;"/>  
                            <h:outputText value="ES ASISTENCIA" />  
                            <h:panelGrid columns="10">
                                <p:selectBooleanCheckbox value="#{sistemaNotasBean.object.esasistencia}" id="esasistencia"   style="font-weight:bold;"/>  

                                <h:outputText value="ES GPA" />  
                                <p:selectBooleanCheckbox value="#{sistemaNotasBean.object.esgpa}" id="esgpa"   style="font-weight:bold;"/>  
                                <h:outputText value="ES NOTA" />  
                            <h:panelGrid columns="3">
                                <p:selectBooleanCheckbox value="#{sistemaNotasBean.object.esnota}" id="esnota"   style="font-weight:bold;"/>  

                                <h:outputText value="ES EQUIVALENCIA" />  
                                <p:selectBooleanCheckbox value="#{sistemaNotasBean.object.esexamen}" id="esexamen"   style="font-weight:bold;"/>  
                            </h:panelGrid>
                            <h:outputText value="SE IMPRIME" />  
                            <p:selectBooleanCheckbox value="#{sistemaNotasBean.object.seimprime}" id="seimprime"   style="font-weight:bold;"/>  

                            </h:panelGrid>
                            
                            <h:outputText value="DESDE" />  
                            <p:calendar value="#{sistemaNotasBean.object.fechai}"   locale="es" pattern="dd/MM/yyyy HH:mm"  navigator="true"  showOn="button" />
                            <h:outputText value="HASTA" />  
                            <p:calendar value="#{sistemaNotasBean.object.fechaf}" locale="es" pattern="dd/MM/yyyy HH:mm"   navigator="true"  showOn="button"/>

                            <h:outputText value="NOTA" />  
                            <p:inputText value="#{sistemaNotasBean.object.nota}" id="nota"  maxlength="10" size="35" readonly="true"  style="font-weight:bold;"/>  
                            <p:inputText  value="#{sistemaNotasBean.object.idSistemaNotas}" converter="JsfConvInteger" id="id"   style="font-weight:bold; width: 15px;visibility: hidden"/>  
                        </h:panelGrid>  
                        <h:panelGrid columns="4">
                            <p:spacer/><p:spacer/>
                            <p:commandButton  value="Guardar"  id="guardar"  update=":form:display :form:modalidad"   action="#{sistemaNotasBean.guardar()}"  icon="guardar" title="Guardar"/>  
                            <p:commandButton value="Limpiar"  id="limpiar" update=":form:display" actionListener="#{sistemaNotasBean.limpiar()}" icon="nuevo" title="Nuevo">  
                            </p:commandButton> 

                        </h:panelGrid>
                    </p:panel>
                    
                </h:panelGrid>



            </h:form>


        </h:panelGrid>
    </ui:define>
</ui:composition>