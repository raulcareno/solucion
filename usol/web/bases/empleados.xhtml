<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                template="/templates/mantenimiento.xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:a4j="http://richfaces.org/a4j"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://java.sun.com/jsf/core" >
    <ui:define name="title">

    </ui:define>    
    <ui:define name="datos">
        <h:panelGrid width="100%" id="busqueda" >
            <h:form prependId="false" id="form">
                <script type="text/javascript">
                    function handleDrop(event, ui) {
                        var droppedCar = ui.draggable;

                        droppedCar.fadeOut('fast');
                    }
                </script>
                <script src="locales.js" type="text/javascript"/>

                <!--p:growl id="growl" showDetail="true" sticky="true"  /--> 
                <!--p:message for="form" /-->
                <p:messages id="messages" showDetail="false" autoUpdate="true" /> 
                <p:tabView  id="RegistroInformacion" >  

                    <p:tab id="registro01" title="INFORMACIÓN GENERAL">
                        <h:panelGrid columns="4" cellpadding="1" style="margin:0 auto;">  
                            <p:selectOneRadio id="TipoIdentificacion" value="#{empleadosBean.object.tipoIdentificacion}">  
                                <f:selectItem itemLabel="CEDULA"  itemValue="C" />  
                                <f:selectItem itemLabel="RUC" itemValue="R" />  
                                <f:selectItem itemLabel="PASSAPORTE" itemValue="P" />  
                            </p:selectOneRadio>  
                            <p:inputText value="#{empleadosBean.object.identificacion}" id="Identificacion"  maxlength="100" size="35"  style="font-weight:bold;"/>  

                            <f:verbatim></f:verbatim>
                            <f:verbatim></f:verbatim>
                            <h:outputText value="APELLIDO PATERNO: " />  
                            <p:inputText value="#{empleadosBean.object.apellidoPaterno}" id="ApellidoPaterno"  maxlength="100" size="35"  style="font-weight:bold;"/>  

                            <h:outputText value="APELLDIO MATERNO: " />  
                            <p:inputText value="#{empleadosBean.object.apellidoMaterno}" id="ApellidoMaterno"  maxlength="100" size="35"  style="font-weight:bold;"/>  

                            <h:outputText value="NOMBRE: " />  
                            <p:inputText value="#{empleadosBean.object.nombre}" id="nombre"  maxlength="100" size="35"  style="font-weight:bold;"/>  

                            <h:outputText value="TELEFONO: " />  
                            <p:inputText value="#{empleadosBean.object.telefono}" id="telefono"  maxlength="100" size="35"  style="font-weight:bold;"/>  

                            <h:outputText value="SEXO: " />  
                            <p:selectOneRadio id="sexo" value="#{empleadosBean.object.sexo}">  
                                <f:selectItem itemLabel="MASCULINO"  itemValue="M" />  
                                <f:selectItem itemLabel="FEMENINO" itemValue="F" />  
                            </p:selectOneRadio>  

                            <h:outputText value="EMAIL: " />  
                            <p:inputText value="#{empleadosBean.object.email}" id="Email"  maxlength="100" size="35"  style="font-weight:bold;"/>  

                            <h:outputText value="USUARIO: " />  
                            <p:inputText value="#{empleadosBean.object.usuario}" id="Usuario"  maxlength="100" size="35"  style="font-weight:bold;"/>  

                            <h:outputText value="CLAVE: " />  
                            <p:password  value="#{empleadosBean.object.clave}"  requiredMessage="No coincidena las contraseñas" match="Clave2" redisplay="true"  feedback="true" id="Clave"  maxlength="100" size="35"  style="font-weight:bold;"/>  

                            <h:outputText value="FECHA NACIMIENTO: " />  
                            <p:calendar locale="es" pattern="dd/MM/yyyy" navigator="true" value="#{empleadosBean.object.fechaNacimiento}" id="FechaNacimiento" showOn="button"  maxlength="100" size="28"  style="font-weight:bold;"/>  
                            <h:outputText value="CONFIRMAR CLAVE: " />  
                            <p:password  value="#{empleadosBean.clave2}" redisplay="true"  id="Clave2"  maxlength="100" size="35"  style="font-weight:bold;"/>  

                            <h:outputText value="PAIS: " /> 
                            <p:selectOneMenu   id="pais" label="pais"  style="width:160px"  value="#{empleadosBean.paisSeleccionado}" effect="fade" converter="ConvPais">  
                                <f:selectItems value="#{empleadosBean.selectedItemPais}" var="ob"  itemValue="#{ob}"/>  
                                <p:ajax event="change" listener="#{empleadosBean.buscarProvincia()}"  update="provincia" />  
                            </p:selectOneMenu>  
                            <h:outputText value="PROVINCIA: " /> 
                            <p:selectOneMenu  id="provincia" label="provincia" style="width:160px"   value="#{empleadosBean.provinciaSeleccionado}" effect="fade" converter="ConvProvincia">  
                                <f:selectItems value="#{empleadosBean.provinciasEncontradas}" var="ob2"  itemValue="#{ob2}"/>  
                                <p:ajax event="change" listener="#{empleadosBean.buscarCanton()}"  update="canton" />  
                            </p:selectOneMenu>  
                            <h:outputText value="CANTON: " /> 
                            <p:selectOneMenu immediate="true" id="canton"  style="width:160px"  label="canton"  value="#{empleadosBean.cantonSeleccionado}" effect="fade" converter="ConvCanton">  
                                <f:selectItems value="#{empleadosBean.cantonesEncontradas}" var="ob3"  itemValue="#{ob3}"/>  
                            </p:selectOneMenu> 

                            <h:outputText value="PERFIL:" /> 
                            <p:selectOneMenu   id="perfil" label="perfil"  style="width:160px"  value="#{empleadosBean.perfilesSeleccioando}" effect="fade" converter="ConvPerfiles">  
                                <f:selectItems value="#{empleadosBean.selectedItemPerfiles}" var="ob7"  itemValue="#{ob7}"/>  
                            </p:selectOneMenu>  

                            <h:outputText value="TITULO:" /> 
                            <p:selectOneMenu id="titulos" label="titulos" style="width:160px"   value="#{empleadosBean.titulosSeleccionado}" effect="fade" converter="ConvTitulos">  
                                <f:selectItems value="#{empleadosBean.selectedItemTitulos}" var="ob8"  itemValue="#{ob8}"/>  
                            </p:selectOneMenu>  
                            <p:graphicImage id="logoSubido2" width="70" height="120" rendered="#{not empty empleadosBean.foto1}" value="#{pageContext.contextPath}/fotosEmpleados/#{empleadosBean.foto1}"
                                            cache="true" />
                            <p:commandLink update="fileSubir" onclick="modalSubir.show()"  id="versubirImagen">
                                <p:graphicImage value="#{pageContext.contextPath}/images/ver.png" />Subir Imagen
                            </p:commandLink>
                            <p:dialog header="Seleccionar una foto" widgetVar="modalSubir" modal="true"
                                      fixedCenter="true" width="400" visible="false" resizable="false">
                                <p:fileUpload  label="Seleccionar Imagen (click aquí)"
                                               style="width:100%; font-size: 150% !important;"
                                               fileUploadListener="#{empleadosBean.handleFileUpload}"  
                                               mode="advanced"  id="fileSubir"
                                               update="logoSubido2"  
                                               auto="true"  oncomplete="modalSubir.hide();" 
                                               sizeLimit="1000000"   
                                               allowTypes="/(\.|\/)(gif|jpe?g|png)$/"/>  
                                <br />
                                <p:commandButton type="button" value="CANCELAR">
                                    <p:ajax oncomplete="modalSubir.hide();" />
                                </p:commandButton>
                            </p:dialog>
                            <p:inputText  value="#{empleadosBean.object.idEmpleados}"  converter="JsfConvInteger" id="id"   style="font-weight:bold; width: 15px;visibility: hidden"/>
                        </h:panelGrid>  
                    </p:tab>
                    <p:tab id="registro02" title="INFORMACIÓN CES">
                        <h:panelGrid columns="4" cellpadding="1" style="margin:0 auto;">  
                            <h:outputText value="FECHA INGRESO: " />  
                            <p:calendar locale="es" pattern="dd/MM/yyyy" navigator="true" value="#{empleadosBean.object.fechaIngreso}" id="FechaIngreso" showOn="button"  maxlength="100" size="35"  style="font-weight:bold;"/>  
                            <h:outputText value="FECHA AFILIACIÓN: " />  
                            <p:calendar locale="es" pattern="dd/MM/yyyy" navigator="true" value="#{empleadosBean.object.fechaAfiliacion}" id="FechaAfiliacion" showOn="button"  maxlength="100" size="35"  style="font-weight:bold;"/>  
                            <h:outputText value="INGRESO A CONCURSO: " />  
                            <p:selectOneRadio id="IngresoConcurso" value="#{empleadosBean.object.ingresoConcurso}">  
                                <f:selectItem itemLabel="SI"  itemValue="S" />  
                                <f:selectItem itemLabel="NO" itemValue="N" />  
                            </p:selectOneRadio>  
                            <h:outputText value="TIPO DE CONTRATO: " />  
                            <p:selectOneMenu id="TipoContrato" style="width:160px"  value="#{empleadosBean.object.tipoContrato}">
                                <f:selectItem itemLabel="CON RELACION DE DEPENDENCIA"  itemValue="D" />  
                                <f:selectItem itemLabel="SIN RELACION DE DEPENDENCIA"  itemValue="S" />  
                            </p:selectOneMenu>  

                            <h:outputText value="CARGO ADM. O ACADÉMICO: " /> 
                            <p:inputText value="#{empleadosBean.object.cargoAdmAcad}" id="CargoAdmOAcademico"  maxlength="100" size="35"  style="font-weight:bold;"/>  

                            <h:outputText value="CARGO AUTORIDAD: " /> 
                            <p:inputText value="#{empleadosBean.object.cargoAutoridad}" id="CargoAutoridad"  maxlength="100" size="35"  style="font-weight:bold;"/>  

                            <h:outputText value="TIPO DE CATEGORÍA: " />  
                            <p:selectOneMenu id="TipoCategoria"  style="width:160px"  value="#{empleadosBean.object.tipoCategoria}">
                                <f:selectItem itemLabel="TITULAR AUXILIAR"  itemValue="TAX" />  
                                <f:selectItem itemLabel="OCASIONAL"  itemValue="OC" />  
                                <f:selectItem itemLabel="TITULAR AGREGADO "  itemValue="TA" />  
                                <f:selectItem itemLabel="INVITADO"  itemValue="IN" />  

                            </p:selectOneMenu>  
                            <h:outputText value="UBICACION CATEGORÍA: " /> 
                            <p:selectOneRadio id="UbicacionCategoria" value="#{empleadosBean.object.ubicacionCategoria}">  
                                <f:selectItem itemLabel="SI"  itemValue="S" />  
                                <f:selectItem itemLabel="NO" itemValue="N" />  
                            </p:selectOneRadio>  

                            <h:outputText value="SUELDO ANTERIOR: " /> 
                            <p:inputText value="#{empleadosBean.object.sueldoAnterior}" id="SueldoAnterior"  maxlength="100" size="35"  style="font-weight:bold;"/>  

                            <h:outputText value="TITULO 3r. NIVEL " />  
                            <p:inputText value="#{empleadosBean.object.tituloTn}" id="TituloTercerNivel"  maxlength="100" size="35"  style="font-weight:bold;"/>  
                            <h:outputText value="UNIVERSIDAD 3r. NIVEL " />  
                            <p:inputText value="#{empleadosBean.object.universidadTn}" id="UniversidadTercerNivel"  maxlength="100" size="35"  style="font-weight:bold;"/>  
                            <h:outputText value="NIVEL 3r. NIVEL " />  
                            <p:inputText value="#{empleadosBean.object.nivelTn}" id="NivelTercerNivel"  maxlength="100" size="35"  style="font-weight:bold;"/>  
                            <h:outputText value="PAIS 3r. NIVEL " />  
                            <p:selectOneMenu   id="PaisTercerNivel" label="PaisTercerNivel"  style="width:160px" value="#{empleadosBean.paisSeleccionado3}" effect="fade" converter="ConvPais">  
                                <f:selectItems value="#{empleadosBean.selectedItemPais}" var="ob10"  itemValue="#{ob10}"/>  
                            </p:selectOneMenu>  

                            <h:outputText value="# REGISTRO CONESUP 3r. NIVEL " />  
                            <p:inputText value="#{empleadosBean.object.regConesupTn}" id="ConesupTercerNivel"  maxlength="100" size="35"  style="font-weight:bold;"/>  
                            <f:verbatim/>
                            <f:verbatim/>
                            <h:outputText value="TITULO 4to. NIVEL " />  
                            <p:inputText value="#{empleadosBean.object.tituloCn}" id="TituloCuartoNivel"  maxlength="100" size="35"  style="font-weight:bold;"/>  
                            <h:outputText value="UNIVERSIDAD 4to. NIVEL " />  
                            <p:inputText value="#{empleadosBean.object.universidadCn}" id="UniversidadCuartoNivel"  maxlength="100" size="35"  style="font-weight:bold;"/>  
                            <h:outputText value="NIVEL 4to. NIVEL " />  
                            <p:inputText value="#{empleadosBean.object.nivelCn}" id="NivelCuartoNivel"  maxlength="100" size="35"  style="font-weight:bold;"/>  
                            <h:outputText value="PAIS 4to. NIVEL " />  
                            <p:selectOneMenu   id="PaisCuartoNivel" label="PaisCuartoNivel"   style="width:160px"  value="#{empleadosBean.paisSeleccionado4}" effect="fade" converter="ConvPais">  
                                <f:selectItems value="#{empleadosBean.selectedItemPais}" var="ob10"  itemValue="#{ob10}"/>  
                            </p:selectOneMenu>  
                            <h:outputText value="# REGISTRO CONESUP 4to. NIVEL " />  
                            <p:inputText value="#{empleadosBean.object.regConesupCn}" id="ConesupCuartoNivel"  maxlength="100" size="35"  style="font-weight:bold;"/>  
                            <f:verbatim/>
                            <f:verbatim/>



                        </h:panelGrid>  
                    </p:tab>
                    <p:tab id="registro07" title="MATERIAS DEL PROFESOR">
                        <p:panelGrid columns="2">
                            <p:dataTable  scrollable="true" scrollHeight="150"  id="asignadas" var="materia" value="#{empleadosBean.destino}">  

                                <p:column width="300" headerText="MATERIAS ASIGNADAS">  
                                <h:outputText value="#{materia.nombre}" />  
                            </p:column>  
                            <p:column style="width:20px">  
                                <p:commandButton   actionListener="#{empleadosBean.quitar(materia)}" update=":form:RegistroInformacion"
                                    icon="ui-icon-seek-next">  
                                </p:commandButton>  

                            </p:column>  
                        </p:dataTable>  
                            <p:dataTable  scrollable="true" scrollHeight="150"  var="car" id="disponibles" value="#{empleadosBean.origen}" >  
                             <p:column headerText="">  
                                <p:commandButton   actionListener="#{empleadosBean.anadir(car)}" update=":form:RegistroInformacion"
                                    icon="ui-icon-seek-prev">  
                                </p:commandButton>  
                            </p:column> 
                            <p:column  width="300"  headerText="MATERIAS DISPONIBLES">  
                                <h:outputText value="#{car.nombre}" />  
  
                            </p:column>  
                           

                        </p:dataTable>  
</p:panelGrid>
                    </p:tab>
                    <p:tab id="registro03" title="BUSQUEDAS">
                        <h:panelGrid columns="1" cellpadding="1" style="margin:0 auto;">  

                            <p:panel  style="width:780px">
                                <h:panelGrid  columns="4">

                                    <h:outputLabel for="textoBuscar" style="font-weight: bold" value="Nombre:" />
                                    <p:inputText id="textoBuscar" value="#{empleadosBean.textoBuscar}" style="font-weight:bold"/>  
                                    <p:commandButton id="buscar" value="Buscar" update=":form:RegistroInformacion:empleados" actionListener="#{empleadosBean.buscar()}"  icon="ui-icon-search" title="Buscar"/>  

                                </h:panelGrid>
                            </p:panel>

                            <p:dataTable style="width:780px;" id="empleados" rowsPerPageTemplate="5,10,15,20,25" paginator="true" rows="5"  var="obj" value="#{empleadosBean.model}">  

                                <p:column headerText="NOMBRE" style="width:80%">  
                                    <h:outputText value="#{obj.nombre}" />  
                                </p:column>  
                                <p:column style="width:10%">  
                                    <h:panelGrid style="border-color: transparent;" columns="2">

                                        <p:commandButton  id="editarButton" update=":form:RegistroInformacion"  actionListener="#{empleadosBean.editarAction(obj)}" icon="ui-icon-pencil" title="Editar">  

                                        </p:commandButton>  
                                        <p:commandButton id="eliminarButton" actionListener="#{empleadosBean.eliminar(obj)}"  update=":form"  icon="ui-icon-trash"  onclick="if(!confirm('Seguro que desea eliminar el registro?')) { return false;}" title="Eliminar">  

                                        </p:commandButton>  
                                    </h:panelGrid>

                                </p:column>  

                            </p:dataTable>  

                        </h:panelGrid>  
                    </p:tab>
                </p:tabView>

                <h:panelGrid columns="4">
                    <p:commandButton  value="Guardar"  id="guardar"  update=":form:RegistroInformacion :form:RegistroInformacion:empleados"   action="#{empleadosBean.guardar()}"  icon="ui-icon-disk" title="Guardar"/>  
                    <p:commandButton value="Limpiar"  id="limpiar" update=":form:RegistroInformacion" actionListener="#{empleadosBean.limpiar()}" icon="ui-icon-document" title="Nuevo">  
                    </p:commandButton> 
                </h:panelGrid>





            </h:form>


        </h:panelGrid>
    </ui:define>
</ui:composition>
