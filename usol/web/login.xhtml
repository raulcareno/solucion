<?xml version='1.0' encoding='UTF-8' ?> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <f:view contentType="text/html">
        <h:head>
            <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
            <title>Ingreso al Sistema</title>
            <style type="text/css">
                table td {
                    vertical-align: top;
                    border: 0px;
                }
                .ui-panelgrid td{
                    border: none;
                }
                  .cabe{
                    background-attachment: scroll;
                    background-clip: border-box;
                    padding: 0px;
                    /* background-color: transparent; */
                    background-image: url('images/fondo.png');
                    background-origin: padding-box;
                    background-position: 0 0;
                    background-size: auto auto;
                     margin: 0px 0px 0px 0px;
                }
            </style>
        </h:head>
        <h:body >
            <div    >
                <h:form prependId="false"  id="login" enctype="multipart/form-data">
                    <link rel="stylesheet" type="text/css" href="#{facesContext.externalContext.requestContextPath}/bases/botonesEstilo.css" />
                    <p:panel style="border: none; width: 100%;height:600px">
                        <p:growl  autoUpdate="true"  id="growl" showDetail="true" sticky="true" /> 
                        <p:panel id="mipanel" style="background-color: transparent ;width: 100%;border: 0px;border-color: transparent">
                            <p:focus context="mipanel"/> 
                            <h:panelGrid columns="3">
                                <p:graphicImage   style="margin: 50px 50px 0px 60px;" id="logoSubido" width="500" height="400" value="#{pageContext.contextPath}/fotos/imagen.png" cache="true" />    
                                <p:separator style="width:0;height:0px" />
                                <h:panelGrid  style="margin: 0px 55px 0px 60px;" columns="1">
                                    <p:separator style="border:none; background-color: transparent; width:0;height:100px" />
                                    <p:graphicImage id="logoSubido2" width="300" value="#{pageContext.contextPath}/fotos/logo.png"  cache="true" />
                                    <p:separator style="width:0;height:0px" />
                                    <h:outputText style="font-size: 12px;color: #D20005" value=" Cuenta de Usuario" />
                                    <h:panelGrid style="font-size: 12px;border: 0px;border-color: transparent" columns="3">
                                        <p:inputText style="height: 30px;font-size: 11px" size="50" required="true"  id="usuario" value="#{loginBean.usuario}" />
                                        <p:message  for="usuario"  display="icon" /> 
                                        <p:watermark for="usuario" value="Diqite aquí su Usuario" />  
                                        <p:password style="height: 30px;font-size: 11px" size="50"   id="clave" required="true" value="#{loginBean.clave}" requiredMessage="ERROR: Ingrese una clave"  />  
                                        <p:message for="clave"   display="icon" /> 
                                        <p:watermark for="clave" value="Diqite aquí su Contraseña" />  
                                          
                                        <p:selectOneMenu required="true"   requiredMessage="ERROR: Es necesario elegir un Periodo" id="periodo" label="periodo"  value="#{loginBean.periodoSeleccionado}" effect="fade" converter="ConvPeriodos">  
                                            <f:selectItem itemLabel="SELECCIONE UN PERIODO" itemValue="" />  
                                             <f:selectItems value="#{loginBean.selectedItemPeriodos}" var="ob"  itemLabel="#{ob}"   itemValue="#{ob}"/>  
                                         </p:selectOneMenu>  
                                        <f:verbatim/><f:verbatim/>
                                        <p:commandButton update="login" value="Login" actionListener="#{loginBean.loginAction()}" icon="login" ajax="true" />  
                                    </h:panelGrid>
                                    <p:commandLink  style="margin-right:20px;font-size: 12px;color: #D20005"  immediate="true" id="ajax"  onclick="recuperarClave.show();" >  
                                        <h:outputText value="¿No puedes acceder a tu Cuenta?" />  
                                    </p:commandLink> 
                                </h:panelGrid>
                            </h:panelGrid>
                             
                            <p:dialog header="Recuperar Clave" widgetVar="recuperarClave" modal="true" width="450" visible="false" resizable="false">
                                <p:panelGrid columns="2" >
                                    <h:outputText value="Tu Cédula o Passaporte: " />
                                    <p:inputText id="cedula" value="#{loginBean.cedula}" >
                                    <p:ajax event="blur" update="cedula" />
                                </p:inputText>
                                    <p:ajaxStatus style="width:16px;height:16px;" id="ajaxStatusPanel">  
                                        <f:facet name="start">  
                                              <h:graphicImage value="images/procesando.gif" />
                                              Procesando...
                                        </f:facet>  
                                        <f:facet name="complete">  
                                            <h:outputText value="" />  
                                        </f:facet>  
                                    </p:ajaxStatus> 
                                <p:commandButton update="cedula"   action="#{loginBean.recuperarClave()}" immediate="true"
                                                 oncomplete="recuperarClave.hide();" value="Recuperar" >
                                </p:commandButton>
                                </p:panelGrid>
                                 
                                
                                
                            </p:dialog>
 


                        </p:panel>
                        <br />
                        <br />
                        <br />
                        <br />
                        <hr style="width: 90%"/>
                        <div style=" margin:0px 50px 0px 60px; float: left;">
                            ©2012 JCINFORM
                        </div>
                        <div style=" margin:-1px 50px 0px 60px; float: right;">
                            <h:outputText value="Desarrollado por " styleClass="texto10"/>
                            <h:outputLink target="_blank" styleClass="texto12"
                                          value="http://www.jcinform.com/">
                                <f:verbatim>JC INFORM</f:verbatim>
                            </h:outputLink>
                        </div>
                    </p:panel>
                </h:form>
            </div>
        </h:body>
    </f:view>
</html>


